# 1. Создайте новый раздел, начинающийся с первого свободного сектора и имеющий размер 300 МБайт.

	fdisk /dev/sda
	#	p - просмотр таблицы разделов
	#	n - создание нового раздела
	#	p - primary
	#	default
	#	default
	#	+300M
	#	w - запись таблицы разделов

# 2. Создайте файл в домашнем каталоге пользователя root и сохраните в него UUID созданного раздела.

	blkid /dev/sda3 > ~/uuid.txt
	
# 3. Создайте на созданном разделе файловую систему ext4 с размером блока 4096 байт.

	mkfs.ext4 -b 4096 /dev/sda3

# 4. Выведите на экран текущее состояние параметров, записанных в суперблоке созданной файловой системы.

	dumpe2fs -h /dev/sda3

# 5. Настройте эту файловую систему таким образом, чтобы ее автоматическая проверка запускалась через 2 месяца или каждое второе монтирование файловой системы.

	tune2fs -i 2m -с 2 /dev/sda3

# 6. Создайте в каталоге /mnt подкаталог newdisk и подмонтируйте в него созданную файловую систему.

	mkdir /mnt/newdisk
	mount -t ext4 /dev/sda3 /mnt/newdisk  

# 7. Создайте в домашнем каталоге пользователя root ссылку на смонтированную файловую систему

	ln -s /mnt/newdisk ~/newdisklink

# 8. Создайте каталог с любым именем в смонтированной файловой системе.

	mkdir ~/newdisklink/mydir

# 9. Включите автомонтирование при запуске операционной системы созданной файловой системы в /mnt/newdisk таким образом, чтобы было невозможно запускать исполняемые файлы, находящиеся в этой системе, а также с отключением возможности записи времени последнего доступа к файлу для ускорения работы с этой файловой системой. Перезагрузите операционную систему и проверьте доступность файловой системы. Проверьте невозможность запустить исполняемый файл, если он хранится в этой файловой системе.

	echo "/dev/sda3 /mnt/newdisk ext4 noexec,noatime 0 0" >> /etc/fstab
	reboot 

# 10. Увеличьте размер раздела и файловой системы до 350 МБайт. Проверьте, что размер изменился.

	umount /dev/sda3
	fdisk /dev/sda
	#	d - delete
	#	3 - part number
	#	n - new
	#	p - partition
	#	3 - part number
	#	default - first sector
	#	+350M - last sector
	#	w - write

# 11. Проверьте на наличие ошибок созданную файловую сисемы "в безопасном режиме", то есть в режиме запрета внесения каких-либо изменений в фаловую систему, даже если обнаружены ошибки.

sudo e2fsck -fn /dev/sdb1

# 12. Создайте новый раздел, размером в 12 Мбайт. Настройте файловую систему, созданную в пункте 3 таким образом, чтобы ее журнал был расположен на разделе, созданном в этом пункте.

sudo mke2fs -t ext4 /dev/sdb4
sudo mke2fs -O journal_dev -b 4096 /dev/sdb4
sudo tune2fs -J ^has_journal /dev/sdb1
sudo tune2fs -o journal_data -j -J device=/dev/sdb4 /dev/sdb1

# 13. Создайте два новых раздела, размером в 100МБайт каждый.

sudo parted --align none /dev/sdb mkpart vol1 1 ext4 400MB 500MB
sudo parted --align none /dev/sdb mkpart vol2 1 ext4 500MB 600MB

# 14. Создайте группу разделов LVM и логический том LVM над создаными в предыдущем пункте раздлеми. Создайте файловую систему ext4 для создания логического тома LVM и смонтируйте ее в предварительно созданный каталог supernewdisk в каталоге mnt.

sudo vgcreate vg1 /dev/sdb2 /dev/sdb3
sudo lvcreate -l 100%FREE vg1
sudo mkfs.ext4 /dev/vg1/lvol0
sudo mount /dev/vg1/lvol0 /mnt/superdisk

# 15. Создайте папку в хостовой операционной систему и предоставьте к ней сетевой доступ.

sudo mount -t nfs 127.0.0.1:/var/nfsshare /mnt/share

# 16. Сделайте так, чтобы сетевой ресурс автоматически монтировался для чтения при загрузке.

echo "127.0.0.1:/var/nfsshare /mnt/share nfs defaults 0 0" >> /etc/fstab
